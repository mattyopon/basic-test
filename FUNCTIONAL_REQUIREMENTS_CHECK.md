# 機能要件準拠チェックリスト

## US001-US004: お問い合わせフォーム

### US001: お問い合わせフォーム入力画面
- [x] お名前の項目は姓名の入力項目を分ける
- [x] お問い合わせの種類では、デフォルトで「選択してください」の文字を表示
- [x] 「確認画面」ボタンをクリックすると確認画面ページへ遷移
- [x] バリデーションにはフォームリクエストを使用
- [x] バリデーションエラーがあれば各項目の下にエラーメッセージを表示

### US002: お問い合わせフォーム確認画面
- [x] 確認画面ページが表示される
- [x] 「修正」ボタンで入力画面に戻る
- [x] 「送信」ボタンでお問い合わせ内容を保存

### US003: お問い合わせフォーム完了画面
- [x] サンクスページが表示される
- [x] 「HOME」ボタンをクリックするとお問い合わせフォーム入力ページへ遷移

### US004: お問い合わせフォームバリデーション
- [x] 「※」マークがあるフォームは入力必須項目
- [x] エラーメッセージ: `姓を入力してください` `名を入力してください` `性別を選択してください` `メールアドレスを入力してください` `電話番号を入力してください` `住所を入力してください` `お問い合わせの種類を選択してください` `お問い合わせ内容を入力してください`
- [x] お問い合わせ内容の入力文字数は120文字以内
- [x] エラーメッセージ: `お問い合わせ内容は120文字以内で入力してください`
- [x] メールアドレスはメールアドレス形式
- [x] エラーメッセージ: `メールアドレスはメール形式で入力してください`
- [x] 電話番号は半角英数字で入力
- [x] エラーメッセージ: `電話番号は半角英数字で入力してください`
- [x] 電話番号は5桁まで数字で入力
- [x] エラーメッセージ: `電話番号は5桁まで数字で入力してください`

## US005: ユーザー登録

- [x] Fortifyを使用し、管理画面にアクセスできる新規ユーザーを作成
- [x] バリデーションにはフォームリクエストを使用
- [x] ヘッダーの「login」ボタンをクリックするとログインページへ遷移
- [x] 「登録」ボタンをクリックした際にバリデーションエラーがあれば各項目の下にエラーメッセージを表示
- [x] 全てのフォームは入力必須
- [x] エラーメッセージ: `お名前を入力してください` `メールアドレスを入力してください` `パスワードを入力してください`
- [x] メールアドレスは「ユーザー名@ドメイン」形式
- [x] エラーメッセージ: `メールアドレスはメール形式で入力してください`

## US006: ログイン

- [x] Fortifyを使用し、登録済みのユーザーがログインできるようにする
- [x] バリデーションにはフォームリクエストを使用
- [x] ヘッダーの「register」ボタンをクリックすると登録ページへ遷移
- [x] 「ログイン」ボタンをクリックした際にバリデーションエラーがあれば各項目の下にエラーメッセージを表示
- [x] 「ログイン」ボタンをクリックした際にバリデーションエラーがなければ管理画面へ遷移
- [x] 全てのフォームは入力必須
- [x] エラーメッセージ: `メールアドレスを入力してください` `パスワードを入力してください`
- [x] メールアドレスは「ユーザー名@ドメイン」形式
- [x] エラーメッセージ: `メールアドレスはメール形式で入力してください`
- [x] ログイン情報が登録されていない場合のエラーメッセージ: `ログイン情報が登録されていません`

## US007: 管理画面

### 検索機能
- [x] 名前での検索（姓、名、フルネームでの検索が可能）
- [x] メールアドレスでの検索
- [x] 性別での検索
- [x] お問い合わせ種類での検索
- [x] 日付での検索
- [x] 検索欄に全て入力した状態・全てブランクの状態、両方の状態での検索が可能
- [x] 入力フォームは部分一致と完全一致検索が可能
- [x] 性別はデフォルトで「性別」を表示
- [x] 性別検索では「全て」と「男性」、「女性」、「その他」から検索
- [x] 日付はinputタグのカレンダーを使用して検索
- [x] ページネーションを使用し、7件ごとのデータを表示
- [x] 「リセット」ボタンをクリックすると検索ページが初期状態に戻る

### 表示機能
- [x] お名前、性別、メールアドレス、お問い合わせの種類、お問い合わせ内容を表示
- [x] お問い合わせの種類カラムを追加
- [x] お問い合わせ内容は30文字で切り捨てて表示
- [x] 「詳細」ボタンのクリックでデータの詳細表示

### モーダルウィンドウ
- [x] 詳細の表示はモーダルウィンドウを使用
- [x] 「削除」ボタンをクリックするとデータが削除される
- [x] モーダルウィンドウ右上の「×」マークのクリックで詳細画面が閉じる

### CSVエクスポート
- [x] 「エクスポート」ボタンのクリックでデータをCSV形式でエクスポート
- [x] 検索を絞り込んだ状態で「エクスポート」ボタンを押すと絞り込んだ分でエクスポート

## US008: ログアウト

- [x] 「logout」ボタンをクリックするとログアウトし、ログインページへ遷移

## その他の要件

### ダミーデータ
- [x] ファクトリを使用し、contactsテーブルにダミーデータを35件作成
- [x] categoriesテーブル(お問い合わせの種類)のダミーデータはシーダーファイルを使用し、以下５件のダミーデータを作成
  - [x] 商品のお届けについて
  - [x] 商品の交換について
  - [x] 商品トラブル
  - [x] ショップへのお問い合わせ
  - [x] その他

### テーブル設計
- [x] テーブル名はスネークケース、複数形で命名
- [x] カラム名はスネークケースで命名
- [x] contactsテーブル: first_name, last_name, gender (tinyint), email, tel, address, building, detail, category_id (FK)
- [x] categoriesテーブル: content

### 環境構築
- [x] .env.exampleファイルが存在
- [x] READMEに環境構築手順が記載
- [x] docker-compose.ymlが正しく設定されている

### テスト
- [x] 単体テストが実装されている
- [x] すべてのテストが成功している

